apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: cluster-api-provider-vsphere
  namespace: argocd
spec:
  destination:
    namespace: default
    server: https://kubernetes.default.svc
  project: default
  source:
    directory:
      jsonnet:
        tlas:
        - name: is_offline
          value: "true"
        - name: private_registry
          value: 172.22.6.22:5000
        - name: username
          value: user
        - name: password
          value: pwd
      recurse: true
    path: manifest/cluster-api-provider-vsphere
    repoURL: https://github.com/tmax-cloud/argocd-installer
    targetRevision: main